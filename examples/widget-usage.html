<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CustomGPT Widget Usage Example</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .section {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .widget-container {
            height: 600px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            position: relative;
        }
        .controls {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }
        button {
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background: #f5f5f5;
        }
        button.active {
            background: #007acc;
            color: white;
            border-color: #007acc;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 16px;
            overflow-x: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="section">
            <h1>CustomGPT Widget Examples</h1>
            <p>This page demonstrates different ways to integrate the CustomGPT widget into your website.</p>
        </div>

        <div class="section">
            <h2>Embedded Widget</h2>
            <p>The widget is embedded directly into a container on your page.</p>
            <div class="controls">
                <button onclick="initEmbeddedWidget()" class="active">Initialize Embedded</button>
                <button onclick="destroyWidget()">Destroy Widget</button>
            </div>
            <div id="embedded-widget" class="widget-container"></div>
            
            <h3>Code Example:</h3>
            <pre><code>&lt;!-- Include the widget script --&gt;
&lt;script src="./dist/widget/customgpt-widget.js"&gt;&lt;/script&gt;

&lt;!-- Create a container --&gt;
&lt;div id="my-chat-widget"&gt;&lt;/div&gt;

&lt;!-- Initialize the widget --&gt;
&lt;script&gt;
    const widget = CustomGPTWidget.init({
        apiKey: 'your-api-key-here',
        mode: 'embedded',
        containerId: 'my-chat-widget',
        enableCitations: true,
        enableFeedback: true
    });
&lt;/script&gt;</code></pre>
        </div>

        <div class="section">
            <h2>Floating Widget</h2>
            <p>A floating chat button that opens a chat window.</p>
            <div class="controls">
                <button onclick="initFloatingWidget()">Initialize Floating</button>
                <button onclick="toggleFloatingWidget()">Toggle Widget</button>
                <button onclick="destroyWidget()">Destroy Widget</button>
            </div>
            
            <h3>Code Example:</h3>
            <pre><code>&lt;!-- Include the widget script --&gt;
&lt;script src="./dist/widget/customgpt-widget.js"&gt;&lt;/script&gt;

&lt;!-- Initialize floating widget --&gt;
&lt;script&gt;
    const floatingWidget = CustomGPTWidget.init({
        apiKey: 'your-api-key-here',
        mode: 'floating',
        position: 'bottom-right',
        width: '400px',
        height: '600px',
        onOpen: () => console.log('Widget opened'),
        onClose: () => console.log('Widget closed')
    });
&lt;/script&gt;</code></pre>
        </div>

        <div class="section">
            <h2>Widget Configuration Options</h2>
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f8f9fa;">
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Option</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Type</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Default</th>
                        <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>apiKey</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">required</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Your CustomGPT API key</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>mode</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'embedded' | 'floating'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'embedded'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Widget display mode</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>containerId</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">undefined</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Container element ID (required for embedded mode)</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>position</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'bottom-right' | 'bottom-left' | 'top-right' | 'top-left'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'bottom-right'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Position for floating mode</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>width</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'400px'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Widget width</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>height</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">'600px'</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Widget height</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>enableCitations</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Show citations in responses</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;"><code>enableFeedback</code></td>
                        <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">Show feedback buttons</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>Widget Methods</h2>
            <p>Once initialized, the widget instance provides several methods:</p>
            <ul>
                <li><code>widget.open()</code> - Open the widget (floating mode)</li>
                <li><code>widget.close()</code> - Close the widget (floating mode)</li>
                <li><code>widget.toggle()</code> - Toggle widget visibility</li>
                <li><code>widget.destroy()</code> - Remove the widget from the page</li>
                <li><code>widget.updateConfig(newConfig)</code> - Update widget configuration</li>
                <li><code>widget.isOpened</code> - Check if widget is open (getter)</li>
                <li><code>widget.configuration</code> - Get current configuration (getter)</li>
            </ul>
        </div>
    </div>

    <!-- Load the widget script -->
    <script src="../dist/widget/customgpt-widget.js"></script>
    
    <script>
        let currentWidget = null;

        function initEmbeddedWidget() {
            destroyWidget();
            
            // Note: Replace with a real API key for actual usage
            currentWidget = CustomGPTWidget.init({
                apiKey: '1234|demo-api-key-for-testing',
                mode: 'embedded',
                containerId: 'embedded-widget',
                enableCitations: true,
                enableFeedback: true,
                onMessage: (message) => {
                    console.log('New message:', message);
                }
            });
        }

        function initFloatingWidget() {
            destroyWidget();
            
            // Note: Replace with a real API key for actual usage
            currentWidget = CustomGPTWidget.init({
                apiKey: '1234|demo-api-key-for-testing',
                mode: 'floating',
                position: 'bottom-right',
                width: '400px',
                height: '600px',
                onOpen: () => console.log('Widget opened'),
                onClose: () => console.log('Widget closed'),
                onMessage: (message) => {
                    console.log('New message:', message);
                }
            });
        }

        function toggleFloatingWidget() {
            if (currentWidget) {
                currentWidget.toggle();
            }
        }

        function destroyWidget() {
            if (currentWidget) {
                currentWidget.destroy();
                currentWidget = null;
            }
        }

        // Initialize embedded widget by default
        window.addEventListener('load', () => {
            setTimeout(initEmbeddedWidget, 500);
        });
    </script>
</body>
</html>